(function(){	var	__Log			= model.Log 	= {},	__methods		= __Log.methods = {},	__events		= __Log.events 	= {},	ROLES			= __myNameSpace.ROLES,	directoryROLES	= __myNameSpace.DirectoryROLES;		__methods.push = function(operation){		if(__myNameSpace.LOG.ENABLE){			var			log,			obj 		= ds.Utils.classToType(operation) == 'string' ? {operation : operation} : operation,			curSession 	= currentSession(),			superAdmin	= curSession.belongsTo(directoryROLES.SUPERADMINISTRATOR),			storage		= curSession.storage;						if(!obj.comment){				obj.comment = '';			}						if(superAdmin){				obj.comment = 'User : ' + curSession.user.fullName + ' [ID = ' + storage.ID + '] (SUPERADMINISTRATOR)' + __myNameSpace.LOG.NEWLINE + obj.comment;			}			else if(storage.ID){				obj.user = ds.User(storage.ID);			}						if(!superAdmin && !obj.user){				obj.comment = 'User : UNKNOWN USER' + __myNameSpace.LOG.NEWLINE + obj.comment;			}						obj.date_ = new Date();						log = new ds.Log(obj);			log.save();						if(operation.changedAttributes){				operation.changedAttributes.forEach(function(attrEntity){					attrEntity.log = log;					attrEntity.save();				});			}		}	}		__methods.clear = function(){		this.remove();	}		__methods.enable = function(){		__myNameSpace.LOG.ENABLE = true;	}		__methods.disable = function(){		__myNameSpace.LOG.ENABLE = false;	}		__events.onRemove = function(){		this.changedAttributes.remove();	}})();