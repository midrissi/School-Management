/*** @author admin*/(function(){	var	__Student 	= model.Student = {},	__events 	= __Student.events	= new __myNameSpace.Model.User.Events(),	__methods 	= __Student.methods	= {},	ROLES							= __myNameSpace.ROLES,	directoryROLES					= __myNameSpace.DirectoryROLES;		__events.onRestrictingQuery = function(){		var		sessionRef		= currentSession(),		curUser			= sessionRef.user,		sStorage		= sessionStorage;				switch(true){			case sessionRef.belongsTo(directoryROLES.RECORDOFFICER)	:				return this.query('role = :1' , ROLES.STUDENT);							case sessionRef.belongsTo(directoryROLES.TEACHER)	:				var				theTeacher		= ds.Teacher.first();								return theTeacher.timeTables.studyGroup.students;						case sessionRef.belongsTo(directoryROLES.PARENT)	:				var				theParent		= ds.Parent.first();								return theParent.children;						case sessionRef.belongsTo(directoryROLES.STUDENT)	:				return this.query('ID = :1' , sStorage.ID);		}				return this.createEntityCollection();	};		__methods.assignToGroup = function(studentIDs , groupID){		var group = ds.StudyGroup(groupID);		if(!group){			return false;		}		for(var i = 0 , sID ; sID = studentIDs[i] ; i++){			var			student = this(sID);						if(!student){				continue;			}						student.studyGroup = group;			try{				student.save();			}catch(e){				continue;			}		}				return true;	}	__methods.assignToGroup.scope = 'public';})();