/*** @author admin*/(function(){    var    UserInMyNS 		= __myNameSpace.Model.User = {},    ROLES		= __myNameSpace.ROLES,    DirectoryROLES	= __myNameSpace.DirectoryROLES;	    UserInMyNS.Events = function(){		    };    UserInMyNS.Events.prototype.onSave = function(){        var        role 		= 'UNKNOWN',        dataClass 	= this.getDataClass(),        dsName		= dataClass.getName(),        operation;		        switch(dsName){            case 'SuperAdministrator':                role = ROLES.SUPERADMINISTRATOR;                break;            case 'Administrator':                role = ROLES.ADMINISTRATOR;                break;            case 'Student':                role = ROLES.STUDENT;                break;            case 'Parent':                role = ROLES.PARENT;                break;            case 'Teacher':                role = ROLES.TEACHER;                break;            case 'RecordOfficer':                role = ROLES.RECORDOFFICER;                break;        }                if(!this.avatar){        	this.avatar = getFolder('path') + __myNameSpace.School.USERS.defaultImg;        }		        if(this.isNew() || this.role != role){            this.role = role;        }		        ds.Log.push(__myNameSpace.LOG.getOperation(this , 'save'));    }	    UserInMyNS.Events.prototype.onRestrictingQuery = function(){        var        dsName			= this.getName(),        sessionRef		= currentSession(),        curUser			= sessionRef.user;		        switch(dsName){            case 'Student':                return this.query('role = :1' , ROLES.STUDENT);            case 'Parent':                return this.query('role = :1' , ROLES.PARENT);            case 'RecordOfficer':                return this.query('role = :1' , ROLES.RECORDOFFICER);        }		        return this.createEntityCollection();    }    UserInMyNS.Events.prototype.onRemove = function(){        ds.Log.push(__myNameSpace.LOG.getOperation(this , 'remove'));    }})();