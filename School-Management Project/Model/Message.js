/*** @author admin*/(function(){    var    __Message		= model.Message				= {},    __methods		= __Message.methods			= {},    __events		= __Message.events			= {};		__events.onValidate = function(){		var	types = ['info' , 'error' , 'warning' , 'confirm'];				if(types.indexOf(this.type) < 0){			this.type = types[1];		}	}		__methods.getMessages = function(type){		var col,			result = {};				if(type){			col = this.query('type = :1' , type);		}		else{			col = this.all();		}				col.toArray().forEach(function(item){			result[item.key] = item;			delete result[item.key].key;		})				return result;	}	__methods.getMessages.scope = 'public';		__methods.getMessage = function(key){		return this.find('key = :1' , key);	}	__methods.getMessage.scope = 'public';})();